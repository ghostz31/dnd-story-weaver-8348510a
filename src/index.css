/* eslint-disable */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Theme: Parchment & Ink (Classic D&D Vibe) */

    /* Backgrounds: Warm Paper Tones */
    --background: 40 20% 97%;
    /* #FDFBF7 (Very light parchment) */
    --card: 40 20% 95%;
    /* #F9F6F0 (Slightly darker paper) */
    --popover: 40 20% 97%;

    /* Foreground: Ink Tones */
    --foreground: 220 10% 15%;
    /* #222429 (Soft Charcoal Ink) */
    --card-foreground: 220 10% 15%;
    --popover-foreground: 220 10% 15%;
    --muted-foreground: 220 10% 40%;

    /* Primary Accent: Dragon Red / Ruby */
    --primary: 350 75% 45%;
    /* #C91C30 (Deep Ruby) */
    --primary-foreground: 40 20% 97%;
    /* Paper white on red */
    --primary-glow: 350 80% 60%;

    /* Secondary Accent: Aged Gold / Brass */
    --secondary: 45 80% 45%;
    /* #CF9F0E (Aged Gold) */
    --secondary-foreground: 220 10% 15%;
    /* Ink on gold */

    /* UI Elements */
    --muted: 40 10% 90%;
    /* Faint paper line */
    --accent: 40 30% 90%;
    /* Hover state (darker paper) */
    --accent-foreground: 220 10% 10%;

    --destructive: 0 85% 60%;
    --destructive-foreground: 40 20% 97%;

    --border: 40 10% 80%;
    /* Pencil outline */
    --input: 40 10% 85%;
    --ring: 350 75% 45%;
    /* Focus ring same as primary */

    --radius: 0.5rem;
    /* Sharper corners for a "book" feel */

    /* Glass Vars (Cleaned up for Sharpness) */
    --glass: 40 20% 98%;
    --glass-foreground: 220 10% 15%;
    --glass-border: 40 10% 85%;
  }

  .dark {
    /* Theme: Deep Dungeon (Stone & Torchlight) */

    /* Backgrounds: Dark Stone */
    --background: 220 15% 10%;
    /* #15171C (Dark cold stone) */
    --card: 220 15% 13%;
    /* #1C1F26 */
    --popover: 220 15% 10%;

    /* Foreground: Parchment Text (Light Grey/Beige) */
    --foreground: 40 10% 90%;
    --card-foreground: 40 10% 90%;
    --popover-foreground: 40 10% 90%;
    --muted-foreground: 220 10% 60%;

    /* Primary Accent: Torch Fire / Ember */
    --primary: 20 80% 55%;
    /* #E86C2C (Orange Fire) */
    --primary-foreground: 220 15% 10%;
    --primary-glow: 20 90% 60%;

    /* Secondary Accent: Steel / Cold Magic */
    --secondary: 200 60% 50%;
    /* #3399CC (Steel Blue) */
    --secondary-foreground: 40 10% 95%;

    /* UI Elements */
    --muted: 220 15% 20%;
    --accent: 220 15% 20%;
    --accent-foreground: 40 10% 95%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 40 10% 90%;

    --border: 220 15% 25%;
    --input: 220 15% 25%;
    --ring: 20 80% 55%;

    --glass: 220 15% 12%;
    --glass-foreground: 40 10% 90%;
    --glass-border: 220 15% 25%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-inter antialiased;
    /* texture grain overlay can be added here if we had an asset */
  }

  .font-cinzel {
    font-family: 'Cinzel', serif;
  }

  .font-inter {
    font-family: 'Inter', sans-serif;
  }
}

@layer components {

  /* Panels & Cards */
  .parchment-panel {
    @apply bg-card border border-border shadow-sm;
  }

  .parchment-card {
    @apply bg-card text-card-foreground border border-border shadow-md transition-all duration-200;
  }

  .parchment-card:hover {
    @apply shadow-lg -translate-y-[1px] border-primary/40;
  }

  /* Utility to make text feel like ink */
  .text-ink {
    color: hsl(var(--foreground));
  }

  .text-ink-muted {
    color: hsl(var(--muted-foreground));
  }
}

/* Animations - Keeping them crisp */
.animate-fade-in {
  animation: fadeIn 0.4s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Scrollbar Integration */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--border));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--secondary));
}

/* ===== MOBILE OPTIMIZATIONS ===== */

/* Safe Area Variables */
:root {
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --vh: 1vh;
  /* Will be set by JS for Android 100vh fix */
}

/* Touch Target Minimum Size */
@layer components {
  .touch-target {
    @apply min-w-[44px] min-h-[44px];
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  .touch-target-lg {
    @apply min-w-[48px] min-h-[48px];
  }

  /* Mobile Card Style */
  .mobile-card {
    @apply mx-4 my-2 p-4 rounded-xl bg-card border border-border;
    -webkit-overflow-scrolling: touch;
  }

  /* Sticky Header with Safe Area */
  .sticky-header-safe {
    @apply sticky top-0 z-50;
    padding-top: calc(0.5rem + var(--safe-top));
    background: hsl(var(--background) / 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  /* Bottom Navigation with Safe Area */
  .bottom-nav-safe {
    @apply fixed bottom-0 left-0 right-0 z-50 flex justify-around bg-card border-t border-border;
    padding-bottom: calc(0.5rem + var(--safe-bottom));
    padding-top: 0.5rem;
  }

  /* Full Height Fix for Mobile (Android 100vh issue) */
  .h-screen-mobile {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
  }

  .min-h-screen-mobile {
    min-height: 100vh;
    min-height: calc(var(--vh, 1vh) * 100);
  }
}

/* Prevent iOS Input Zoom */
@media screen and (max-width: 768px) {

  input,
  select,
  textarea {
    font-size: 16px !important;
  }
}

/* Touch Feedback */
.interactive-tap {
  transition: transform 0.1s ease, opacity 0.1s ease;
  -webkit-tap-highlight-color: transparent;
}

.interactive-tap:active {
  transform: scale(0.97);
  opacity: 0.9;
}

/* Respect Reduced Motion */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Hide scrollbar on mobile for horizontal scroll areas */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Text Truncation Utilities */
.text-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.text-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}